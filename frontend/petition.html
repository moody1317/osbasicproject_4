<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°±ì¼í•˜ - êµ­íšŒ ì²­ì› í˜„í™©</title>
    <meta name="description" content="êµ­íšŒì— ì ‘ìˆ˜ëœ ì²­ì›ë“¤ì˜ í˜„í™©ê³¼ ì²˜ë¦¬ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.">
    <meta name="keywords" content="êµ­íšŒì²­ì›, ì²­ì›í˜„í™©, ì²­ì›ì²˜ë¦¬ìƒíƒœ, êµ­íšŒì˜ì›ì²­ì›, ë°±ì¼í•˜">
    
    <!-- ì™¸ë¶€ ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì—°ê²° -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="petition.css">
    
    <!-- íŒŒë¹„ì½˜ -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/moody1317/osbasicproject_4/refs/heads/main/logo.png">
</head>
<body>
    <!-- í—¤ë” ì‹œì‘ -->
    <header>
        <!-- ë¡œê³  ë§í¬ -->
        <a href="mainpage.html" style="text-decoration: none; color: inherit;" aria-label="ë°±ì¼í•˜ ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/moody1317/osbasicproject_4/refs/heads/main/logo.png" alt="ë°±ì¼í•˜ ë¡œê³ ">
            </div>
        </a>
    </header>
    
    <!-- ìŠ¤í‹°í‚¤ ë„¤ë¹„ê²Œì´ì…˜ ì»¨í…Œì´ë„ˆ -->
    <div class="sticky-nav-container">
        <!-- ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ì‹œì‘ -->
        <nav role="navigation" aria-label="ì£¼ ë©”ë‰´">
            <ul>
                <li class="has-submenu" data-submenu="party-submenu" aria-expanded="false">
                    ì •ë‹¹
                </li>
                <li class="has-submenu" data-submenu="member-submenu" aria-expanded="false">
                    êµ­íšŒì˜ì›
                </li>
                <li class="has-submenu" data-submenu="activity-submenu" aria-expanded="false">
                    ì˜ì • í™œë™
                </li>
                <li class="has-submenu" data-submenu="etc-submenu" aria-expanded="false">
                    ê¸°íƒ€
                </li>
            </ul>
            
            <!-- ì •ë‹¹ ì„œë¸Œë©”ë‰´ -->
            <div class="submenu-wrapper" id="party-submenu" role="menu">
                <div class="submenu-container">
                    <a href="rank_party.html" class="submenu-item" role="menuitem">ëª…ì˜ˆì˜ ì •ë‹¹</a>
                    <a href="percent_party.html" class="submenu-item" role="menuitem">ì •ë‹¹ ìƒì„¸ í¼ì„¼íŠ¸</a>
                    <a href="compare_party.html" class="submenu-item" role="menuitem">ì •ë‹¹ ë¹„êµí•˜ê¸°</a>
                </div>
            </div>
            
            <!-- êµ­íšŒì˜ì› ì„œë¸Œë©”ë‰´ -->
            <div class="submenu-wrapper" id="member-submenu" role="menu">
                <div class="submenu-container">
                    <a href="compare_member.html" class="submenu-item" role="menuitem">êµ­íšŒì˜ì› ë¹„êµí•˜ê¸°</a>
                    <a href="percent_member.html" class="submenu-item" role="menuitem">êµ­íšŒì˜ì› ìƒì„¸ì •ë³´</a>
                    <a href="rank_member.html" class="submenu-item" role="menuitem">ëª…ì˜ˆì˜ ì˜ì›</a>
                </div>
            </div>
            
            <!-- ì˜ì • í™œë™ ì„œë¸Œë©”ë‰´ -->
            <div class="submenu-wrapper" id="activity-submenu" role="menu">
                <div class="submenu-container">
                    <a href="petition.html" class="submenu-item" role="menuitem" aria-current="page">ì²­ì› í˜„í™©</a>
                    <a href="meeting.html" class="submenu-item" role="menuitem">ë³¸íšŒì˜ í˜„í™©</a>
                </div>
            </div>
            
            <!-- ê¸°íƒ€ ì„œë¸Œë©”ë‰´ -->
            <div class="submenu-wrapper" id="etc-submenu" role="menu">
                <div class="submenu-container">
                    <a href="outpage.html" class="submenu-item" role="menuitem">ì™¸ë¶€ ì‚¬ì´íŠ¸</a>
                    <a href="inquiry.html" class="submenu-item" role="menuitem">ë„ì›€ë§</a>
                    <a href="announcements.html" class="submenu-item" role="menuitem">ê³µì§€ì‚¬í•­</a>
                </div>
            </div>
        </nav>
    </div>
    
    <!-- ë©”ì¸ ì½˜í…ì¸  ì‹œì‘ -->
    <main role="main">
        <div class="content-container">
            <!-- í˜ì´ì§€ ì œëª© -->
            <h1 class="page-title">êµ­íšŒ ì²­ì› í˜„í™©</h1>
            
            <!-- ê²€ìƒ‰ ë° í•„í„° ì„¹ì…˜ -->
            <section class="search-filter-section" aria-label="ê²€ìƒ‰ ë° í•„í„°">
                <!-- ê²€ìƒ‰ ì˜ì—­ -->
                <div class="search-box">
                    <label for="searchInput" class="sr-only">ì²­ì› ê²€ìƒ‰</label>
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="ì²­ì› ì œëª©, ì†Œê°œì˜ì›, ìœ„ì›íšŒë¡œ ê²€ìƒ‰" 
                        class="search-input" 
                        aria-label="ì²­ì› ê²€ìƒ‰"
                        autocomplete="off"
                    >
                    <button class="search-button" id="searchButton" type="button" aria-label="ê²€ìƒ‰ ì‹¤í–‰">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                
                <!-- í•„í„° ì˜µì…˜ -->
                <div class="filter-options" role="group" aria-label="ì²­ì› í•„í„°">
                    <label for="statusFilter" class="sr-only">ì²˜ë¦¬ ìƒíƒœë³„ í•„í„°</label>
                    <select id="statusFilter" class="filter-select" aria-label="ì²˜ë¦¬ ìƒíƒœë³„ í•„í„°">
                        <option value="all">ì „ì²´ ìƒíƒœ</option>
                        <option value="pending">ì ‘ìˆ˜</option>
                        <option value="review">ì‹¬ì‚¬ì¤‘</option>
                        <option value="committee">ìœ„ì›íšŒ ì‹¬ì‚¬</option>
                        <option value="complete">ì²˜ë¦¬ì™„ë£Œ</option>
                        <option value="rejected">ë¶ˆì±„íƒ</option>
                    </select>
                    
                    <label for="periodFilter" class="sr-only">ê¸°ê°„ë³„ í•„í„°</label>
                    <select id="periodFilter" class="filter-select" aria-label="ê¸°ê°„ë³„ í•„í„°">
                        <option value="all">ì „ì²´ ê¸°ê°„</option>
                        <option value="month1">ìµœê·¼ 1ê°œì›”</option>
                        <option value="month3">ìµœê·¼ 3ê°œì›”</option>
                        <option value="month6">ìµœê·¼ 6ê°œì›”</option>
                        <option value="year1">ìµœê·¼ 1ë…„</option>
                    </select>
                </div>
            </section>

            <!-- ì²­ì› ì •ë³´ -->
            <div class="petition-info" role="status" aria-live="polite">
                <p>ì „ì²´ <span id="totalCount" aria-label="ì´ ì²­ì› ìˆ˜">1,234</span>ê±´ì˜ ì²­ì›ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤</p>
            </div>
            
            <!-- ì²­ì› ëª©ë¡ í…Œì´ë¸” -->
            <section class="bill-list" aria-label="ì²­ì› ëª©ë¡">
                <table class="bill-table" role="table" aria-label="ì²­ì› í˜„í™© í‘œ">
                    <thead>
                        <tr role="row">
                            <th scope="col" role="columnheader">ë²ˆí˜¸</th>
                            <th scope="col" role="columnheader">ì²­ì›ëª…</th>
                            <th scope="col" role="columnheader">ì†Œê°œì˜ì›</th>
                            <th scope="col" role="columnheader">ì†Œê°œì¼</th>
                            <th scope="col" role="columnheader">íšŒë¶€ì¼</th>
                            <th scope="col" role="columnheader">ì²˜ë¦¬ìƒíƒœ</th>
                            <th scope="col" role="columnheader">ì†Œê´€ìœ„ì›íšŒ</th>
                        </tr>
                    </thead>
                    <tbody id="petitionTableBody" role="rowgroup">
                        <!-- ì´ˆê¸° ë¡œë”© ìƒíƒœ -->
                        <tr role="row">
                            <td colspan="7" style="text-align: center; padding: 40px;">
                                <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                                    <div style="width: 20px; height: 20px; border: 2px solid #f3f3f3; border-top: 2px solid #3498db; border-radius: 50%; animation: spin 1s linear infinite;" aria-hidden="true"></div>
                                    <span>ì²­ì› ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
            <div class="pagination" id="pagination" role="navigation" aria-label="í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜">
                <!-- í˜ì´ì§€ë„¤ì´ì…˜ì´ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
            
            <!-- ì²­ì› í˜„í™© ì•ˆë‚´ ë° ë„ì›€ë§ -->
            <section class="petition-help" style="margin-top: 30px; padding: 20px; background-color: var(--main2); border-radius: 10px; border-left: 4px solid var(--light-blue);">
                <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 15px; color: var(--string);">ğŸ“‹ ì²­ì› í˜„í™© ì•ˆë‚´</h2>
                <div style="font-size: 14px; line-height: 1.6; color: var(--example);">
                    <p><strong>â€¢ ì ‘ìˆ˜:</strong> ì²­ì›ì´ êµ­íšŒì— ì •ì‹ ì ‘ìˆ˜ëœ ìƒíƒœ</p>
                    <p><strong>â€¢ ì‹¬ì‚¬ì¤‘:</strong> ê´€ë ¨ ìœ„ì›íšŒì—ì„œ ì²­ì› ë‚´ìš©ì„ ê²€í† í•˜ëŠ” ë‹¨ê³„</p>
                    <p><strong>â€¢ ìœ„ì›íšŒ ì‹¬ì‚¬:</strong> í•´ë‹¹ ìƒì„ìœ„ì›íšŒì—ì„œ ë³¸ê²©ì ì¸ ì‹¬ì‚¬ê°€ ì§„í–‰ë˜ëŠ” ë‹¨ê³„</p>
                    <p><strong>â€¢ ì²˜ë¦¬ì™„ë£Œ:</strong> ì²­ì›ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ì™„ë£Œëœ ìƒíƒœ</p>
                    <p><strong>â€¢ ë¶ˆì±„íƒ:</strong> ì²­ì›ì´ ì±„íƒë˜ì§€ ì•Šì€ ìƒíƒœ</p>
                    <p style="margin-top: 10px; font-size: 12px; color: #666;">
                        â€» ì²­ì›ëª…ì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        â€» ì†Œê°œì˜ì›ëª…ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì˜ì›ì˜ ìƒì„¸ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </section>
        </div>
    </main>
    
    <!-- ì±—ë´‡ ì•„ì´ì½˜ -->
    <div class="robot-icon" role="button" aria-label="ì±—ë´‡ ì—´ê¸°" tabindex="0">
        <img src="https://raw.githubusercontent.com/moody1317/osbasicproject_4/946d8f24f9c780853862670da370ad174c3def6c/chat.png" alt="ì±—ë´‡ ì•„ì´ì½˜">
    </div>
    
    <!-- ì±—ë´‡ ëª¨ë‹¬ -->
    <div class="chatbot-modal" id="chatbotModal" role="dialog" aria-modal="true" aria-labelledby="chatbot-title" aria-hidden="true">
        <div class="chatbot-container">
            <!-- ì±—ë´‡ í—¤ë” -->
            <div class="chatbot-header">
                <div class="date" id="chatbot-title">2025ë…„ 04ì›” 12ì¼ í† ìš”ì¼</div>
                <button class="close-button" aria-label="ì±—ë´‡ ë‹«ê¸°">&times;</button>
            </div>
            
            <!-- ì±—ë´‡ ë©”ì‹œì§€ ì˜ì—­ -->
            <div class="chatbot-messages" id="chatbotMessages" role="log" aria-live="polite" aria-label="ì±—ë´‡ ëŒ€í™”">
                <!-- ì´ˆê¸° ë©”ì‹œì§€ -->
                <div class="message bot">
                    <div class="bot-avatar">
                        <img src="https://raw.githubusercontent.com/moody1317/osbasicproject_4/946d8f24f9c780853862670da370ad174c3def6c/chat.png" alt="ì±—ë´‡ ì•„ë°”íƒ€">
                    </div>
                    <div class="message-content">
                        <p>ì•ˆë…•í•˜ì„¸ìš”! ì²­ì› í˜„í™© ì±—ë´‡ì…ë‹ˆë‹¤.</p>
                        <p>êµ­íšŒ ì²­ì› í˜„í™©ì´ë‚˜ ì²˜ë¦¬ ê³¼ì •ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì„ ë¬¼ì–´ë³´ì„¸ìš”!</p>
                        <p class="small-text">ì•„ë˜ ì œì•ˆ ë²„íŠ¼ì„ ëˆ„ë¥´ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                    </div>
                </div>
            </div>
            
            <!-- ì œì•ˆ ë²„íŠ¼ë“¤ -->
            <div class="suggestion-buttons">
                <button class="suggestion-btn" type="button">ì²­ì› ì²˜ë¦¬ ê³¼ì •</button>
                <button class="suggestion-btn" type="button">ìƒíƒœë³„ ì²­ì› í˜„í™©</button>
                <button class="suggestion-btn" type="button">ì²­ì› ì†Œê°œ ë°©ë²•</button>
                <button class="suggestion-btn" type="button">ìœ„ì›íšŒë³„ ë¶„ë¥˜</button>
            </div>
            
            <!-- ì±—ë´‡ ì…ë ¥ ì˜ì—­ -->
            <div class="chatbot-input">
                <label for="messageInput" class="sr-only">ë©”ì‹œì§€ ì…ë ¥</label>
                <input type="text" id="messageInput" placeholder="ì²­ì› í˜„í™©ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" aria-label="ë©”ì‹œì§€ ì…ë ¥">
                <button class="send-button" type="button" aria-label="ë©”ì‹œì§€ ì „ì†¡">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M22 2L11 13" stroke="#AAAAAA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="#AAAAAA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- ìŠ¤í¬ë¦° ë¦¬ë”ìš© ìˆ¨ê²¨ì§„ í…ìŠ¤íŠ¸ -->
    <div class="sr-only">
        ì²­ì› í˜„í™© í˜ì´ì§€ì…ë‹ˆë‹¤. êµ­íšŒì— ì ‘ìˆ˜ëœ ì²­ì›ë“¤ì˜ ëª©ë¡ê³¼ ì²˜ë¦¬ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
        ê²€ìƒ‰, í•„í„°ë§, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê° ì²­ì›ëª…ì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
    </div>

    <!-- ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ì—°ê²° -->
    <!-- 1. global_sync.js: API ì„œë¹„ìŠ¤ ë° í¼ì„¼íŠ¸ ì„¤ì • ê´€ë¦¬ -->
    <script src="global_sync.js"></script>
    
    <!-- 2. scripts.js: ê³µí†µ UI ê¸°ëŠ¥ ë° ì±—ë´‡, í˜ì´ì§€ë„¤ì´ì…˜ -->
    <script src="scripts.js"></script>
    
    <!-- 3. petition.js: í˜ì´ì§€ë³„ ê¸°ëŠ¥ (ìœ„ ìŠ¤í¬ë¦½íŠ¸ë“¤ì— ì˜ì¡´) -->
    <script src="petition.js"></script>

    <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ CSS -->
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ */
        .filter-select:focus,
        .search-button:focus,
        .petition-title:focus,
        .member-name:focus {
            outline: 2px solid var(--light-blue);
            outline-offset: 2px;
        }
        
        /* í…Œì´ë¸” í–‰ í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ */
        .bill-table tbody tr:focus {
            outline: 2px solid var(--light-blue);
            outline-offset: 2px;
            background-color: var(--main2);
        }
        
        /* ìƒíƒœë³„ ì²­ì› ì¹´ìš´í„° ìŠ¤íƒ€ì¼ */
        .status-summary {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .status-count {
            background-color: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 80px;
        }
        
        .status-count .label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .status-count .count {
            font-size: 18px;
            font-weight: 600;
            color: var(--string);
        }
    </style>

    <!-- í‘¸í„° -->
    <footer>
        ë³¸ ì›¹ì‚¬ì´íŠ¸ëŠ” ì¶©ë¶ëŒ€í•™êµì˜ ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì´ˆ í”„ë¡œì íŠ¸ ê³¼ì œë¥¼ ìœ„í•´ ì œì‘ëœ ë¹„ìƒì—…ì  í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.<br>
        ì‚¬ìš©ëœ ì²­ì› ì •ë³´ëŠ” êµ­íšŒ ê³µê³µë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, ì‹¤ì œ ì²­ì› í˜„í™©ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆëŠ” ê°€ìƒ ë°ì´í„°ì…ë‹ˆë‹¤.<br>
    </footer>

    <!-- í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì²˜ë¦¬ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„ ì„¤ì •
            const lastUpdateElement = document.getElementById('lastUpdate');
            if (lastUpdateElement) {
                const now = new Date();
                const dateString = now.toLocaleDateString('ko-KR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                lastUpdateElement.textContent = dateString;
            }
            
            // í…Œì´ë¸” í–‰ì— í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì§€ì›
            const setupTableKeyboardNavigation = () => {
                const tableRows = document.querySelectorAll('#petitionTableBody tr');
                
                tableRows.forEach((row, index) => {
                    row.setAttribute('tabindex', '0');
                    
                    row.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.click();
                        } else if (e.key === 'ArrowDown') {
                            e.preventDefault();
                            const nextRow = tableRows[index + 1];
                            if (nextRow) nextRow.focus();
                        } else if (e.key === 'ArrowUp') {
                            e.preventDefault();
                            const prevRow = tableRows[index - 1];
                            if (prevRow) prevRow.focus();
                        }
                    });
                });
            };
            
            // í…Œì´ë¸”ì´ ë Œë”ë§ëœ í›„ í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì„¤ì •
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList' && mutation.target.id === 'petitionTableBody') {
                        setTimeout(setupTableKeyboardNavigation, 100);
                    }
                });
            });
            
            const tableBody = document.getElementById('petitionTableBody');
            if (tableBody) {
                observer.observe(tableBody, { childList: true });
            }
        });
    </script>
</body>
</html>
